# RISC-V MCU 应用教程之ADC(一)

## 1. ADC简介

ADC，**A**nalog-to-**D**igital **C**onverter的缩写。指模/数转换器或者模拟/数字转换器。是指将连续变量的**模拟**信号转换为离散的**数字**信号的器件。

ADC是MCU的重要外设，主要用于传感器的数据采集，常见的ADC类型一般为逐次逼近型。

以沁恒RISC-V MCU CH32V307VCT6为例，内嵌2个12位的ADC模块，共有多达16和外部通道和2个内部通道。

## 2. ADC引脚

CH32V307VCT6 ADC通道对应的引脚如下

| 通道 | ADC1 / ADC2              |
| ---- | ------------------------ |
| 0    | PA0                      |
| 1    | PA1                      |
| 2    | PA2                      |
| 3    | PA3                      |
| 4    | PA4                      |
| 5    | PA5                      |
| 6    | PA6                      |
| 7    | PA7                      |
| 8    | PB0                      |
| 9    | PB1                      |
| 10   | PC0                      |
| 11   | PC1                      |
| 12   | PC2                      |
| 13   | PC3                      |
| 14   | PC4                      |
| 15   | PC5                      |
| 16   | 内部温度传感器           |
| 17   | 内置参考电压（1.2V左右） |



CH23V307VCT6 ADC电源引脚

| 引脚名称 | 信号类型           | 备注                             |
| -------- | ------------------ | -------------------------------- |
| Vref+    | 正模拟参考电压输入 | ADC正参考电压，2.4 ≤ Verf+ ≤VDDA |
| Vref-    | 负模拟参考电压输入 | ADC负参考电压，Vref- = VSSA      |
| VDDA     | 模拟电源输入       | MCU模拟部分供电电源              |
| VSSA     | 模拟电压接地输入   | MCU模拟部分供电电源接地引脚      |

## 3. ADC主要特性

- 12位分辨率
- 支持16个外部通道和2个内部信号源采样
- 多通道的多种采样转换方式：单次、连续、扫描、触发、间断等
- 数据对齐模式：左对齐、右对齐
- 采样时间可按通道分别编程
- 规则转换和注入转换均支持外部触发
- 模拟看门狗监测通道电压，自校准功能
- 双重模式
- ADC通道输入范围：0≤ VIN ≤ VDDA
- 输入增益可调，可实现小信号放大采样

